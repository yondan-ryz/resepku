<!DOCTYPE html>
<html>
<head>
  <title>Meal Search</title>
  <style>
    /* CSS styling */
  </style>
</head>
<body>
<div id="page1">
  <h1>Meal Search</h1>
  <input type="text" id="searchInput" placeholder="Search meal">
  <button id="searchButton">Search</button>
</div>

<div id="page2" style="display: none;">
  <h1>Search Results</h1>
  <div id="searchContainer">
    <input type="text" id="searchInputPage2" placeholder="Search meal">
    <button id="searchButtonPage2">Search</button>
  </div>
  <ul id="mealList"></ul>
  <button id="backButton">Back to Search</button>
</div>

<script>
  // Fungsi untuk melakukan pencarian pada halaman 1
  function searchMeal() {
    var searchInputValue = document.getElementById('searchInput').value;
    var apiUrl = 'https://www.themealdb.com/api/json/v1/1/search.php?s=' + searchInputValue;

    fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
              var mealList = document.getElementById('mealList');
              mealList.innerHTML = '';

              if (data.meals) {
                data.meals.forEach(meal => {
                  var listItem = document.createElement('li');
                  var image = document.createElement('img');
                  image.src = meal.strMealThumb;
                  image.alt = meal.strMeal;
                  listItem.appendChild(image);

                  var mealName = document.createElement('p');
                  mealName.textContent = meal.strMeal;
                  listItem.appendChild(mealName);

                  mealList.appendChild(listItem);
                });
              } else {
                var listItem = document.createElement('li');
                listItem.textContent = 'No meals found.';
                mealList.appendChild(listItem);
              }

              document.getElementById('page1').style.display = 'none';
              document.getElementById('page2').style.display = 'block';
              document.getElementById('searchInputPage2').value = searchInputValue;
            })
            .catch(error => {
              console.log(error);
            });
  }

  // Fungsi untuk melakukan pencarian pada halaman 2
  function searchMealPage2() {
    var searchInput = document.getElementById('searchInputPage2').value;
    var apiUrl = 'https://www.themealdb.com/api/json/v1/1/search.php?s=' + searchInput;

    fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
              var mealList = document.getElementById('mealList');
              mealList.innerHTML = '';

              if (data.meals) {
                data.meals.forEach(meal => {
                  var listItem = document.createElement('li');
                  var image = document.createElement('img');
                  image.src = meal.strMealThumb;
                  image.alt = meal.strMeal;
                  listItem.appendChild(image);

                  var mealName = document.createElement('p');
                  mealName.textContent = meal.strMeal;
                  listItem.appendChild(mealName);

                  mealList.appendChild(listItem);
                });
              } else {
                var listItem = document.createElement('li');
                listItem.textContent = 'No meals found.';
                mealList.appendChild(listItem);
              }
            })
            .catch(error => {
              console.log(error);
            });
  }

  // Fungsi untuk kembali ke halaman 1
  function goToPage1() {
    document.getElementById('page1').style.display = 'block';
    document.getElementById('page2').style.display = 'none';
  }

  // Menambahkan event listener pada tombol pencarian halaman 1
  document.getElementById('searchButton').addEventListener('click', searchMeal);

  // Menambahkan event listener pada tombol pencarian halaman 2
  document.getElementById('searchButtonPage2').addEventListener('click', searchMealPage2);

  // Menambahkan event listener pada tombol kembali
  document.getElementById('backButton').addEventListener('click', goToPage1);
</script>
</body>
</html>
